---
import type { MarkdownHeading } from 'astro';
import MarkdownContent from '../components/MarkdownContent.astro';
import MobileTableOfContent from '../components/MobileTableOfContent.astro';
import TableOfContent from '../components/TableOfContent.astro';
import Layout from './Layout.astro';

interface Props {
  title: string;
  description?: string;
  headings: MarkdownHeading[];
}

const { headings, ...rest } = Astro.props as Props;
---

<Layout {...rest}>
  <di
    class="grid grid-cols-[minmax(0px,1fr)_min(608px,100%)_minmax(0px,1fr)] gap-y-4"
  >
    <div class="hidden xl:flex justify-end px-6 row-start-2 col-start-1">
      <nav
        class="block md:sticky top-20 max-h-[calc(100vh-5rem)] overflow-y-auto"
      >
        <TableOfContent {headings} />
      </nav>
    </div>
    <main class="row-start-2 col-start-2 space-y-4">
      <MobileTableOfContent {headings} />
      <MarkdownContent>
        <slot />
      </MarkdownContent>
    </main>
  </di>
</Layout>
